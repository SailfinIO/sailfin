// examples/web/fetch-data.sfn

import { serve, Request, Response, http } from "sailfin/net";

async fn fetchData(url: string) -> string {
    let response = await http.get(url);
    if response.status == 200 {
        return response.body;
    } else {
        return "Error: {{response.status}}";
    }
}

async fn main() -> void {
    let url: string = "https://jsonplaceholder.typicode.com/posts/1";
    let data: string = await fetchData(url);
    print.info("Fetched data: {{data}}");
}
