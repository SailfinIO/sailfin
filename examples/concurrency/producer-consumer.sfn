// examples/concurrency/producer-consumer.sfn

let buffer: Channel<number> = Channel(10); // Bounded buffer with capacity 10

// Producer routine
routine {
    for i in 1..20 {
        print.info("Producing {{i}}");
        buffer.send(i);
        sleep(500);
    }
}

// Consumer routine
routine {
    while true {
        let item: number = await buffer.receive();
        print.info("Consumed {{item}}");
        sleep(1000);
    }
}
